# VOLT Power & Utilities - SPCS Service Specification
# This file defines the container service configuration

spec:
  containers:
    - name: volt
      image: /POWER_UTILITIES_DB/SPCS/VOLT_IMAGES/volt:latest
      env:
        SNOWFLAKE_DATABASE: POWER_UTILITIES_DB
        SNOWFLAKE_SCHEMA: ATOMIC
        YES_ENERGY_DATABASE: YES_ENERGY_FOUNDATION_DATA
        YES_ENERGY_SCHEMA: FOUNDATION
        LOG_LEVEL: INFO
      resources:
        requests:
          memory: 2Gi
          cpu: 1
        limits:
          memory: 4Gi
          cpu: 2
      readinessProbe:
        port: 8080
        path: /health
      volumeMounts:
        - name: token-vol
          mountPath: /snowflake/session
  endpoints:
    - name: volt-endpoint
      port: 8080
      public: true
  volumes:
    - name: token-vol
      source: "@POWER_UTILITIES_DB.SPCS.VOLT_STAGE/token"
      uid: 0
      gid: 0
